{
    "ClassName": "UMaterial",
    "Content": {
        "BlendState": {
            "ClassName": "FBlendStateInitializer",
            "Content": {
                "RenderTargets": [
                    {
                        "AlphaBlendOp": "BO_Add",
                        "AlphaDestBlend": "BF_Zero",
                        "AlphaSrcBlend": "BF_One",
                        "ColorBlendOp": "BO_Add",
                        "ColorDestBlend": "BF_Zero",
                        "ColorSrcBlend": "BF_One",
                        "ColorWriteMask": "CW_RGBA"
                    },
                    {
                        "AlphaBlendOp": "BO_Add",
                        "AlphaDestBlend": "BF_Zero",
                        "AlphaSrcBlend": "BF_One",
                        "ColorBlendOp": "BO_Add",
                        "ColorDestBlend": "BF_Zero",
                        "ColorSrcBlend": "BF_One",
                        "ColorWriteMask": "CW_RGBA"
                    },
                    {
                        "AlphaBlendOp": "BO_Add",
                        "AlphaDestBlend": "BF_Zero",
                        "AlphaSrcBlend": "BF_One",
                        "ColorBlendOp": "BO_Add",
                        "ColorDestBlend": "BF_Zero",
                        "ColorSrcBlend": "BF_One",
                        "ColorWriteMask": "CW_RGBA"
                    },
                    {
                        "AlphaBlendOp": "BO_Add",
                        "AlphaDestBlend": "BF_Zero",
                        "AlphaSrcBlend": "BF_One",
                        "ColorBlendOp": "BO_Add",
                        "ColorDestBlend": "BF_Zero",
                        "ColorSrcBlend": "BF_One",
                        "ColorWriteMask": "CW_RGBA"
                    },
                    {
                        "AlphaBlendOp": "BO_Add",
                        "AlphaDestBlend": "BF_Zero",
                        "AlphaSrcBlend": "BF_One",
                        "ColorBlendOp": "BO_Add",
                        "ColorDestBlend": "BF_Zero",
                        "ColorSrcBlend": "BF_One",
                        "ColorWriteMask": "CW_RGBA"
                    },
                    {
                        "AlphaBlendOp": "BO_Add",
                        "AlphaDestBlend": "BF_Zero",
                        "AlphaSrcBlend": "BF_One",
                        "ColorBlendOp": "BO_Add",
                        "ColorDestBlend": "BF_Zero",
                        "ColorSrcBlend": "BF_One",
                        "ColorWriteMask": "CW_RGBA"
                    },
                    {
                        "AlphaBlendOp": "BO_Add",
                        "AlphaDestBlend": "BF_Zero",
                        "AlphaSrcBlend": "BF_One",
                        "ColorBlendOp": "BO_Add",
                        "ColorDestBlend": "BF_Zero",
                        "ColorSrcBlend": "BF_One",
                        "ColorWriteMask": "CW_RGBA"
                    },
                    {
                        "AlphaBlendOp": "BO_Add",
                        "AlphaDestBlend": "BF_Zero",
                        "AlphaSrcBlend": "BF_One",
                        "ColorBlendOp": "BO_Add",
                        "ColorDestBlend": "BF_Zero",
                        "ColorSrcBlend": "BF_One",
                        "ColorWriteMask": "CW_RGBA"
                    }
                ],
                "UseIndependentRenderTargetBlendStates": false
            }
        },
        "Code": "\n            #include \"../include/BasePassCommon.glsl\"\n\n            uniform sampler2D baseColorTexture;\n            uniform sampler2D metallicRoughnessTexture;\n            uniform sampler2D emissiveTexture;\n            // uniform sampler2D normalTexture;\n\n            layout (std140) uniform FGLTFMaterialBlock {\n                vec4 baseColorFactor;\n                vec3 emissiveFactor;\n                float metallicFactor;\n                float roughnessFactor;\n            };\n\n            vec4 MaterialGetBaseColor(VS_Out vs_out)\n            {\n                return texture(baseColorTexture, vs_out.TexCoords) * baseColorFactor;\n            }\n            vec3 MaterialGetEmissive(VS_Out vs_out)\n            {\n                return texture(emissiveTexture, vs_out.TexCoords).rgb * emissiveFactor;\n            }\n            vec3 MaterialGetWorldSpaceNormal(VS_Out vs_out)\n            {\n                // vec3 tangent_normal = texture(normalTexture, vs_out.TexCoords).rgb;\n                vec3 tangent_normal = vec3(0.5, 0.5, 1.0);\n                tangent_normal = normalize(tangent_normal * 2.0f - 1.0f);\n                return normalize(vs_out.TBN * tangent_normal);\n            }\n            float MaterialGetRoughness(VS_Out vs_out)\n            {\n                return texture(metallicRoughnessTexture, vs_out.TexCoords).g;\n            }\n            float MaterialGetMetallic(VS_Out vs_out)\n            {\n                return texture(metallicRoughnessTexture, vs_out.TexCoords).b;\n            }\n            vec3 MaterialGetWorldSpaceOffset(VS_Out vs_out)\n            {\n                return vec3(0);\n            }\n        ",
        "DepthStencilState": {
            "ClassName": "FDepthStencilStateInitializer",
            "Content": {
                "BackFaceDepthFailStencilOp": "SO_Keep",
                "BackFacePassStencilOp": "SO_Keep",
                "BackFaceStencilFailStencilOp": "SO_Keep",
                "BackFaceStencilTest": "CF_Always",
                "DepthTest": "CF_Less",
                "EnableBackFaceStencil": false,
                "EnableDepthWrite": true,
                "EnableFrontFaceStencil": false,
                "FrontFaceDepthFailStencilOp": "SO_Keep",
                "FrontFacePassStencilOp": "SO_Keep",
                "FrontFaceStencilFailStencilOp": "SO_Keep",
                "FrontFaceStencilTest": "CF_Always",
                "StencilReadMask": 255,
                "StencilWriteMask": 255
            }
        },
        "Name": "Cesium3DTilesMaterial",
        "RasterizerState": {
            "ClassName": "FRasterizerStateInitializer",
            "Content": {
                "CullMode": "CM_CCW",
                "FillMode": "FM_Solid"
            }
        },
        "StencilRefValue": 0,
        "Textures": {
            "emissiveTexture": "/Textures/NoEmissiveTexture.json",
            "metallicRoughnessTexture": "/Textures/NoMetallicRoughnessTexture.json"
        }
    }
}